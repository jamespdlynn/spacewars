(function(d){"undefined"!=typeof module?module.exports=d():"function"==typeof define&&"object"==typeof define.amd?define(d):this.Buffer=d()})(function(){function d(b,a){if(!b)throw Error(a);}function t(b,a,c,e){var f=0;e||(d("boolean"===typeof c,"missing or invalid endian"),d(void 0!==a&&null!==a,"missing offset"),d(a+1<b.length,"Trying to read beyond buffer length"));c?(f=b[a]<<8,f|=b[a+1]):(f=b[a],f|=b[a+1]<<8);return f}function u(b,a,c,e){var f=0;e||(d("boolean"===typeof c,"missing or invalid endian"),
d(void 0!==a&&null!==a,"missing offset"),d(a+3<b.length,"Trying to read beyond buffer length"));c?(f=b[a+1]<<16,f|=b[a+2]<<8,f|=b[a+3],f+=b[a]<<24>>>0):(f=b[a+2]<<16,f|=b[a+1]<<8,f|=b[a],f+=b[a+3]<<24>>>0);return f}function x(b,a,c,e){e||(d("boolean"===typeof c,"missing or invalid endian"),d(void 0!==a&&null!==a,"missing offset"),d(a+1<b.length,"Trying to read beyond buffer length"));b=t(b,a,c,e);return b&32768?-1*(65535-b+1):b}function y(b,a,c,e){e||(d("boolean"===typeof c,"missing or invalid endian"),
d(void 0!==a&&null!==a,"missing offset"),d(a+3<b.length,"Trying to read beyond buffer length"));b=u(b,a,c,e);return b&2147483648?-1*(4294967295-b+1):b}function z(b,a,c,e,f){var d;d=8*f-e-1;var g=(1<<d)-1,h=g>>1,k=-7;f=c?0:f-1;var m=c?1:-1,n=b[a+f];f+=m;c=n&(1<<-k)-1;n>>=-k;for(k+=d;0<k;c=256*c+b[a+f],f+=m,k-=8);d=c&(1<<-k)-1;c>>=-k;for(k+=e;0<k;d=256*d+b[a+f],f+=m,k-=8);if(0===c)c=1-h;else{if(c===g)return d?NaN:Infinity*(n?-1:1);d+=Math.pow(2,e);c-=h}return(n?-1:1)*d*Math.pow(2,c-e)}function A(b,
a,c,e){e||(d("boolean"===typeof c,"missing or invalid endian"),d(a+3<b.length,"Trying to read beyond buffer length"));return z(b,a,c,23,4)}function B(b,a,c,e){e||(d("boolean"===typeof c,"missing or invalid endian"),d(a+7<b.length,"Trying to read beyond buffer length"));return z(b,a,c,52,8)}function v(b,a){d("number"==typeof b,"cannot write a non-number as a number");d(0<=b,"specified a negative value for writing an unsigned value");d(b<=a,"value is larger than maximum value for type");d(Math.floor(b)===
b,"value has a fractional component")}function q(b,a,c,e,f){f||(d(void 0!==a&&null!==a,"missing value"),d("boolean"===typeof e,"missing or invalid endian"),d(void 0!==c&&null!==c,"missing offset"),d(c+1<b.length,"trying to write beyond buffer length"),v(a,65535));e?(b[c]=(a&65280)>>>8,b[c+1]=a&255):(b[c+1]=(a&65280)>>>8,b[c]=a&255)}function r(b,a,c,e,f){f||(d(void 0!==a&&null!==a,"missing value"),d("boolean"===typeof e,"missing or invalid endian"),d(void 0!==c&&null!==c,"missing offset"),d(c+3<b.length,
"trying to write beyond buffer length"),v(a,4294967295));e?(b[c]=a>>>24&255,b[c+1]=a>>>16&255,b[c+2]=a>>>8&255,b[c+3]=a&255):(b[c+3]=a>>>24&255,b[c+2]=a>>>16&255,b[c+1]=a>>>8&255,b[c]=a&255)}function w(b,a,c){d("number"==typeof b,"cannot write a non-number as a number");d(b<=a,"value larger than maximum allowed value");d(b>=c,"value smaller than minimum allowed value");d(Math.floor(b)===b,"value has a fractional component")}function C(b,a,c){d("number"==typeof b,"cannot write a non-number as a number");
d(b<=a,"value larger than maximum allowed value");d(b>=c,"value smaller than minimum allowed value")}function D(b,a,c,e,f){f||(d(void 0!==a&&null!==a,"missing value"),d("boolean"===typeof e,"missing or invalid endian"),d(void 0!==c&&null!==c,"missing offset"),d(c+1<b.length,"Trying to write beyond buffer length"),w(a,32767,-32768));0<=a?q(b,a,c,e,f):q(b,65535+a+1,c,e,f)}function E(b,a,c,e,f){f||(d(void 0!==a&&null!==a,"missing value"),d("boolean"===typeof e,"missing or invalid endian"),d(void 0!==
c&&null!==c,"missing offset"),d(c+3<b.length,"Trying to write beyond buffer length"),w(a,2147483647,-2147483648));0<=a?r(b,a,c,e,f):r(b,4294967295+a+1,c,e,f)}function F(b,a,c,e,f,d){var g,h=8*d-f-1,k=(1<<h)-1,m=k>>1,n=23===f?Math.pow(2,-24)-Math.pow(2,-77):0;d=e?d-1:0;var l=e?-1:1,p=0>a||0===a&&0>1/a?1:0;a=Math.abs(a);isNaN(a)||Infinity===a?(a=isNaN(a)?1:0,e=k):(e=Math.floor(Math.log(a)/Math.LN2),1>a*(g=Math.pow(2,-e))&&(e--,g*=2),a=1<=e+m?a+n/g:a+n*Math.pow(2,1-m),2<=a*g&&(e++,g/=2),e+m>=k?(a=0,
e=k):1<=e+m?(a=(a*g-1)*Math.pow(2,f),e+=m):(a=a*Math.pow(2,m-1)*Math.pow(2,f),e=0));for(;8<=f;b[c+d]=a&255,d+=l,a/=256,f-=8);e=e<<f|a;for(h+=f;0<h;b[c+d]=e&255,d+=l,e/=256,h-=8);b[c+d-l]|=128*p}function G(b,a,c,e,f){f||(d(void 0!==a&&null!==a,"missing value"),d("boolean"===typeof e,"missing or invalid endian"),d(void 0!==c&&null!==c,"missing offset"),d(c+3<b.length,"Trying to write beyond buffer length"),C(a,3.4028234663852886E38,-3.4028234663852886E38));F(b,a,c,e,23,4)}function H(b,a,c,e,f){f||(d(void 0!==
a&&null!==a,"missing value"),d("boolean"===typeof e,"missing or invalid endian"),d(void 0!==c&&null!==c,"missing offset"),d(c+7<b.length,"Trying to write beyond buffer length"),C(a,1.7976931348623157E308,-1.7976931348623157E308));F(b,a,c,e,52,8)}if(h)return h;var p=window.ArrayBuffer||function(b){for(this.length=b;b--;)this[b]=0},l=window.Uint8Array||function(b,a,c){this.buffer=b;this.offset=a;this.length=c};window.Uint8Array||(l.prototype={get:function(b){return this.buffer[b+this.offset]},set:function(b,
a){this.buffer[b+this.offset]=a}});var h=function(b){if(b){if("number"===typeof b)return new l(new p(b));if(b instanceof p)return new l(b);if(b instanceof l)return b;if(h.isBuffer(b)||b&&"object"===typeof b&&"number"===typeof b.length){for(var a=new l(new p(b.length)),c=b.length;c--;)a[c]=b[c];return a}throw Error("Invalid constructor argument: "+b);}return new l(new p)},g=h.prototype=l.prototype;g.toString=function(b,a,c){b=String(b||"utf8").toLowerCase();a=+a||0;"undefined"==typeof c&&(c=this.length);
if(+c==a)return"";switch(b){case "hex":return this.hexSlice(a,c);case "utf8":case "utf-8":return this.utf8Slice(a,c);case "ascii":return this.asciiSlice(a,c);case "base64":return this.base64Slice(a,c);default:throw Error("Unknown encoding");}};g.toJSON=function(){for(var b=[],a=0;a<this.length;a++)b[a]=this[a];return b};g.write=function(b,a,c,e){if(isFinite(a))isFinite(c)||(e=c,c=void 0);else{var f=e;e=a;a=c;c=f}a=+a||0;f=this.length-a;c?(c=+c,c>f&&(c=f)):c=f;e=String(e||"utf8").toLowerCase();switch(e){case "utf8":case "utf-8":return this.utf8Write(b,
a,c);case "ascii":return this.asciiWrite(b,a,c);case "base64":return this.base64Write(b,a,c);default:throw Error("Unknown encoding");}};var s=String.fromCharCode;g.utf8Write=function(b,a,c){for(var e=0,f=b.length;e<c&&e<f;e++){var d=b.charCodeAt(e);128>d?this[a++]=d:(127<d&&2048>d?this[a++]=d>>6|192:(this[a++]=d>>12|224,this[a++]=d>>6&63|128),this[a++]=d&63|128)}return f};g.utf8Slice=function(b,a){for(var c="",e=b;e<a;e++){var f=this[e],d,g;128>f?c+=s(f):191<f&&224>f?(d=this[e+1],c+=s((f&31)<<6|d&
63),e++):(d=this[e+1],g=this[e+2],c+=s((f&15)<<12|(d&63)<<6|g&63),e+=2)}return c};g.asciiWrite=function(b,a,c){for(var e=0,d=b.length;e<c&&e<d;e++)this[e+a]=b.charCodeAt(e);return d};g.asciiSlice=function(b,a){for(var c="",e=b;e<a;e++)c+=s(this[e]);return c};g.hexSlice=function(b,a){var c=this.length;if(!b||0>b)b=0;if(!a||0>a||a>c)a=c;for(var e="",c=b;c<a;c++){var d;d=this[c];d=16>d?"0"+d.toString(16):d.toString(16);e+=d}return e};g.copy=function(b,a,c,e){a=a||0;c=c||0;e=e||this.length;var d=0;for(e-=
c;d<e;d++)b[d+a]=this[d+c]};g.base64Slice=function(b,a){var c=this.length;if(!b||0>b)b=0;if(!a||0>a||a>c)a=c;for(var c="",e=b;e<a;e++)c+=window.btoa(this[e]);return c};g.base64Write=function(b,a,c){for(var e=0,d=b.length;e<c&&e<d;e++)this[e+a]=window.atob(b.charCodeAt(e));return d};g.slice=g.subarray;g.toBlob=function(){var b=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);this.offset?b.append(this.toString("utf8")):b.append(this.buffer);return b.getBlob()};g.readUInt8=function(b,
a){a||(d(void 0!==b&&null!==b,"missing offset"),d(b<this.length,"Trying to read beyond buffer length"));return this[b]};g.readUInt16LE=function(b,a){return t(this,b,!1,a)};g.readUInt16BE=function(b,a){return t(this,b,!0,a)};g.readUInt32LE=function(b,a){return u(this,b,!1,a)};g.readUInt32BE=function(b,a){return u(this,b,!0,a)};g.readInt8=function(b,a){a||(d(void 0!==b&&null!==b,"missing offset"),d(b<this.length,"Trying to read beyond buffer length"));return this[b]&128?-1*(255-this[b]+1):this[b]};
g.readInt16LE=function(b,a){return x(this,b,!1,a)};g.readInt16BE=function(b,a){return x(this,b,!0,a)};g.readInt32LE=function(b,a){return y(this,b,!1,a)};g.readInt32BE=function(b,a){return y(this,b,!0,a)};g.readFloatLE=function(b,a){return A(this,b,!1,a)};g.readFloatBE=function(b,a){return A(this,b,!0,a)};g.readDoubleLE=function(b,a){return B(this,b,!1,a)};g.readDoubleBE=function(b,a){return B(this,b,!0,a)};g.writeUInt8=function(b,a,c){c||(d(void 0!==b&&null!==b,"missing value"),d(void 0!==a&&null!==
a,"missing offset"),d(a<this.length,"trying to write beyond buffer length"),v(b,255));this[a]=b};g.writeUInt16LE=function(b,a,c){q(this,b,a,!1,c)};g.writeUInt16BE=function(b,a,c){q(this,b,a,!0,c)};g.writeUInt32LE=function(b,a,c){r(this,b,a,!1,c)};g.writeUInt32BE=function(b,a,c){r(this,b,a,!0,c)};g.writeInt8=function(b,a,c){c||(d(void 0!==b&&null!==b,"missing value"),d(void 0!==a&&null!==a,"missing offset"),d(a<this.length,"Trying to write beyond buffer length"),w(b,127,-128));0<=b?this.writeUInt8(b,
a,c):this.writeUInt8(255+b+1,a,c)};g.writeInt16LE=function(b,a,c){D(this,b,a,!1,c)};g.writeInt16BE=function(b,a,c){D(this,b,a,!0,c)};g.writeInt32LE=function(b,a,c){E(this,b,a,!1,c)};g.writeInt32BE=function(b,a,c){E(this,b,a,!0,c)};g.writeFloatLE=function(b,a,c){G(this,b,a,!1,c)};g.writeFloatBE=function(b,a,c){G(this,b,a,!0,c)};g.writeDoubleLE=function(b,a,c){H(this,b,a,!1,c)};g.writeDoubleBE=function(b,a,c){H(this,b,a,!0,c)};h.poolSize=8192;h.isBuffer=function(b){return b instanceof h||b instanceof
p};h.byteLength=function(b,a){switch(a){case "ascii":return b.length}for(var c=0,d=0,f=b.length,g;c<f;c++)g=b.charCodeAt(c),128>g?d++:d=127<g&&2048>g?d+2:d+3;return d};h.concat=function(b,a){var c;if(!a)for(c=a=0;c<b.length;c++)a+=b[c].length;var d=new h(a),f=0;for(c=0;c<b.length;c++)b[c].copy(d,f),f+=b[c].length;return d};window&&(window.Buffer=h);return h});
